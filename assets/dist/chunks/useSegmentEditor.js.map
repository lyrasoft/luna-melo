{"version":3,"file":"useSegmentEditor.js","sources":["../../node_modules/bootstrap-vue-next/dist/useSafeScrollLock-C_xELGAE.mjs","../../node_modules/bootstrap-vue-next/dist/BCloseButton.vue_vue_type_script_setup_true_lang-byZmQ_ot.mjs","../../node_modules/bootstrap-vue-next/dist/index-CyEArZ56.mjs","../../src/features/segment/useSegmentEditor.ts"],"sourcesContent":["import { shallowRef, computed, toValue, watch, readonly, toRef, ref, onMounted, useId, onUnmounted } from \"vue\";\nimport { d as unrefElement, h as useMutationObserver, q as useScrollLock$1 } from \"./index-Bg04zFDG.mjs\";\nimport { e as toArray, f as notNullish, g as tryOnScopeDispose, x as createSharedComposable } from \"./index-wxu-PlLx.mjs\";\n/*!\n* tabbable 6.2.0\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = [\"input:not([inert])\", \"select:not([inert])\", \"textarea:not([inert])\", \"a[href]:not([inert])\", \"button:not([inert])\", \"[tabindex]:not(slot):not([inert])\", \"audio[controls]:not([inert])\", \"video[controls]:not([inert])\", '[contenteditable]:not([contenteditable=\"false\"]):not([inert])', \"details>summary:first-of-type:not([inert])\", \"details:not([inert])\"];\nvar candidateSelector = /* @__PURE__ */ candidateSelectors.join(\",\");\nvar NoElement = typeof Element === \"undefined\";\nvar matches = NoElement ? function() {\n} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function(element) {\n  var _element$getRootNode;\n  return element === null || element === void 0 ? void 0 : (_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element);\n} : function(element) {\n  return element === null || element === void 0 ? void 0 : element.ownerDocument;\n};\nvar isInert = function isInert2(node, lookUp) {\n  var _node$getAttribute;\n  if (lookUp === void 0) {\n    lookUp = true;\n  }\n  var inertAtt = node === null || node === void 0 ? void 0 : (_node$getAttribute = node.getAttribute) === null || _node$getAttribute === void 0 ? void 0 : _node$getAttribute.call(node, \"inert\");\n  var inert = inertAtt === \"\" || inertAtt === \"true\";\n  var result = inert || lookUp && node && isInert2(node.parentNode);\n  return result;\n};\nvar isContentEditable = function isContentEditable2(node) {\n  var _node$getAttribute2;\n  var attValue = node === null || node === void 0 ? void 0 : (_node$getAttribute2 = node.getAttribute) === null || _node$getAttribute2 === void 0 ? void 0 : _node$getAttribute2.call(node, \"contenteditable\");\n  return attValue === \"\" || attValue === \"true\";\n};\nvar getCandidates = function getCandidates2(el, includeContainer, filter) {\n  if (isInert(el)) {\n    return [];\n  }\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\nvar getCandidatesIteratively = function getCandidatesIteratively2(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      continue;\n    }\n    if (element.tagName === \"SLOT\") {\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively2(content, true, options);\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      var validCandidate = matches.call(element, candidateSelector);\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      }\n      var shadowRoot = element.shadowRoot || // check for an undisclosed shadow\n      typeof options.getShadowRoot === \"function\" && options.getShadowRoot(element);\n      var validShadowRoot = !isInert(shadowRoot, false) && (!options.shadowRootFilter || options.shadowRootFilter(element));\n      if (shadowRoot && validShadowRoot) {\n        var _nestedCandidates = getCandidatesIteratively2(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n  return candidates;\n};\nvar hasTabIndex = function hasTabIndex2(node) {\n  return !isNaN(parseInt(node.getAttribute(\"tabindex\"), 10));\n};\nvar getTabIndex = function getTabIndex2(node) {\n  if (!node) {\n    throw new Error(\"No node provided\");\n  }\n  if (node.tabIndex < 0) {\n    if ((/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || isContentEditable(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n};\nvar getSortOrderTabIndex = function getSortOrderTabIndex2(node, isScope) {\n  var tabIndex = getTabIndex(node);\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n  return tabIndex;\n};\nvar sortOrderedTabbables = function sortOrderedTabbables2(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\nvar isInput = function isInput2(node) {\n  return node.tagName === \"INPUT\";\n};\nvar isHiddenInput = function isHiddenInput2(node) {\n  return isInput(node) && node.type === \"hidden\";\n};\nvar isDetailsWithSummary = function isDetailsWithSummary2(node) {\n  var r = node.tagName === \"DETAILS\" && Array.prototype.slice.apply(node.children).some(function(child) {\n    return child.tagName === \"SUMMARY\";\n  });\n  return r;\n};\nvar getCheckedRadio = function getCheckedRadio2(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\nvar isTabbableRadio = function isTabbableRadio2(node) {\n  if (!node.name) {\n    return true;\n  }\n  var radioScope = node.form || getRootNode(node);\n  var queryRadios = function queryRadios2(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n  var radioSet;\n  if (typeof window !== \"undefined\" && typeof window.CSS !== \"undefined\" && typeof window.CSS.escape === \"function\") {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      console.error(\"Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s\", err.message);\n      return false;\n    }\n  }\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\nvar isRadio = function isRadio2(node) {\n  return isInput(node) && node.type === \"radio\";\n};\nvar isNonTabbableRadio = function isNonTabbableRadio2(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\nvar isNodeAttached = function isNodeAttached2(node) {\n  var _nodeRoot;\n  var nodeRoot = node && getRootNode(node);\n  var nodeRootHost = (_nodeRoot = nodeRoot) === null || _nodeRoot === void 0 ? void 0 : _nodeRoot.host;\n  var attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    var _nodeRootHost, _nodeRootHost$ownerDo, _node$ownerDocument;\n    attached = !!((_nodeRootHost = nodeRootHost) !== null && _nodeRootHost !== void 0 && (_nodeRootHost$ownerDo = _nodeRootHost.ownerDocument) !== null && _nodeRootHost$ownerDo !== void 0 && _nodeRootHost$ownerDo.contains(nodeRootHost) || node !== null && node !== void 0 && (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 && _node$ownerDocument.contains(node));\n    while (!attached && nodeRootHost) {\n      var _nodeRoot2, _nodeRootHost2, _nodeRootHost2$ownerD;\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = (_nodeRoot2 = nodeRoot) === null || _nodeRoot2 === void 0 ? void 0 : _nodeRoot2.host;\n      attached = !!((_nodeRootHost2 = nodeRootHost) !== null && _nodeRootHost2 !== void 0 && (_nodeRootHost2$ownerD = _nodeRootHost2.ownerDocument) !== null && _nodeRootHost2$ownerD !== void 0 && _nodeRootHost2$ownerD.contains(nodeRootHost));\n    }\n  }\n  return attached;\n};\nvar isZeroArea = function isZeroArea2(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(), width = _node$getBoundingClie.width, height = _node$getBoundingClie.height;\n  return width === 0 && height === 0;\n};\nvar isHidden = function isHidden2(node, _ref) {\n  var displayCheck = _ref.displayCheck, getShadowRoot = _ref.getShadowRoot;\n  if (getComputedStyle(node).visibility === \"hidden\") {\n    return true;\n  }\n  var isDirectSummary = matches.call(node, \"details>summary:first-of-type\");\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, \"details:not([open]) *\")) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === \"full\" || displayCheck === \"legacy-full\") {\n    if (typeof getShadowRoot === \"function\") {\n      var originalNode = node;\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true) {\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          node = rootNode.host;\n        } else {\n          node = parentElement;\n        }\n      }\n      node = originalNode;\n    }\n    if (isNodeAttached(node)) {\n      return !node.getClientRects().length;\n    }\n    if (displayCheck !== \"legacy-full\") {\n      return true;\n    }\n  } else if (displayCheck === \"non-zero-area\") {\n    return isZeroArea(node);\n  }\n  return false;\n};\nvar isDisabledFromFieldset = function isDisabledFromFieldset2(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement;\n    while (parentNode) {\n      if (parentNode.tagName === \"FIELDSET\" && parentNode.disabled) {\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n          if (child.tagName === \"LEGEND\") {\n            return matches.call(parentNode, \"fieldset[disabled] *\") ? true : !child.contains(node);\n          }\n        }\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n  return false;\n};\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable2(options, node) {\n  if (node.disabled || // we must do an inert look up to filter out any elements inside an inert ancestor\n  //  because we're limited in the type of selectors we can use in JSDom (see related\n  //  note related to `candidateSelectors`)\n  isInert(node) || isHiddenInput(node) || isHidden(node, options) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n  return true;\n};\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable2(options, node) {\n  if (isNonTabbableRadio(node) || getTabIndex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n  return true;\n};\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable2(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute(\"tabindex\"), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  return false;\n};\nvar sortByOrder = function sortByOrder2(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function(item, i) {\n    var isScope = !!item.scopeParent;\n    var element = isScope ? item.scopeParent : item;\n    var candidateTabindex = getSortOrderTabIndex(element, isScope);\n    var elements = isScope ? sortByOrder2(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item,\n        isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function(acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\nvar tabbable = function tabbable2(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n  return sortByOrder(candidates);\n};\nvar focusable = function focusable2(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n  return candidates;\n};\nvar isTabbable = function isTabbable2(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error(\"No node provided\");\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\nvar focusableCandidateSelector = /* @__PURE__ */ candidateSelectors.concat(\"iframe\").join(\",\");\nvar isFocusable = function isFocusable2(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error(\"No node provided\");\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n/*!\n* focus-trap 7.6.5\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function(r2) {\n      _defineProperty(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nvar activeFocusTraps = {\n  activateTrap: function activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      var activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap._setPausedState(true);\n      }\n    }\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n  deactivateTrap: function deactivateTrap(trapStack, trap) {\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n    if (trapStack.length > 0 && !trapStack[trapStack.length - 1]._isManuallyPaused()) {\n      trapStack[trapStack.length - 1]._setPausedState(false);\n    }\n  }\n};\nvar isSelectableInput = function isSelectableInput2(node) {\n  return node.tagName && node.tagName.toLowerCase() === \"input\" && typeof node.select === \"function\";\n};\nvar isEscapeEvent = function isEscapeEvent2(e) {\n  return (e === null || e === void 0 ? void 0 : e.key) === \"Escape\" || (e === null || e === void 0 ? void 0 : e.key) === \"Esc\" || (e === null || e === void 0 ? void 0 : e.keyCode) === 27;\n};\nvar isTabEvent = function isTabEvent2(e) {\n  return (e === null || e === void 0 ? void 0 : e.key) === \"Tab\" || (e === null || e === void 0 ? void 0 : e.keyCode) === 9;\n};\nvar isKeyForward = function isKeyForward2(e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\nvar isKeyBackward = function isKeyBackward2(e) {\n  return isTabEvent(e) && e.shiftKey;\n};\nvar delay = function delay2(fn) {\n  return setTimeout(fn, 0);\n};\nvar valueOrHandler = function valueOrHandler2(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  return typeof value === \"function\" ? value.apply(void 0, params) : value;\n};\nvar getActualTarget = function getActualTarget2(event) {\n  return event.target.shadowRoot && typeof event.composedPath === \"function\" ? event.composedPath()[0] : event.target;\n};\nvar internalTrapStack = [];\nvar createFocusTrap = function createFocusTrap2(elements, userOptions) {\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward,\n    isKeyBackward\n  }, userOptions);\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   posTabIndexesFound: boolean,\n    //   firstTabbableNode: HTMLElement|undefined,\n    //   lastTabbableNode: HTMLElement|undefined,\n    //   firstDomTabbableNode: HTMLElement|undefined,\n    //   lastDomTabbableNode: HTMLElement|undefined,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    manuallyPaused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: void 0,\n    // the most recent KeyboardEvent for the configured nav key (typically [SHIFT+]TAB), if any\n    recentNavEvent: void 0\n  };\n  var trap;\n  var getOption = function getOption2(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== void 0 ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n  var findContainerIndex = function findContainerIndex2(element, event) {\n    var composedPath = typeof (event === null || event === void 0 ? void 0 : event.composedPath) === \"function\" ? event.composedPath() : void 0;\n    return state.containerGroups.findIndex(function(_ref) {\n      var container = _ref.container, tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      (composedPath === null || composedPath === void 0 ? void 0 : composedPath.includes(container)) || tabbableNodes.find(function(node) {\n        return node === element;\n      });\n    });\n  };\n  var getNodeForOption = function getNodeForOption2(optionName) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref2$hasFallback = _ref2.hasFallback, hasFallback = _ref2$hasFallback === void 0 ? false : _ref2$hasFallback, _ref2$params = _ref2.params, params = _ref2$params === void 0 ? [] : _ref2$params;\n    var optionValue = config[optionName];\n    if (typeof optionValue === \"function\") {\n      optionValue = optionValue.apply(void 0, _toConsumableArray(params));\n    }\n    if (optionValue === true) {\n      optionValue = void 0;\n    }\n    if (!optionValue) {\n      if (optionValue === void 0 || optionValue === false) {\n        return optionValue;\n      }\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n    var node = optionValue;\n    if (typeof optionValue === \"string\") {\n      try {\n        node = doc.querySelector(optionValue);\n      } catch (err) {\n        throw new Error(\"`\".concat(optionName, '` appears to be an invalid selector; error=\"').concat(err.message, '\"'));\n      }\n      if (!node) {\n        if (!hasFallback) {\n          throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n        }\n      }\n    }\n    return node;\n  };\n  var getInitialFocusNode = function getInitialFocusNode2() {\n    var node = getNodeForOption(\"initialFocus\", {\n      hasFallback: true\n    });\n    if (node === false) {\n      return false;\n    }\n    if (node === void 0 || node && !isFocusable(node, config.tabbableOptions)) {\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n        node = firstTabbableNode || getNodeForOption(\"fallbackFocus\");\n      }\n    } else if (node === null) {\n      node = getNodeForOption(\"fallbackFocus\");\n    }\n    if (!node) {\n      throw new Error(\"Your focus-trap needs to have at least one focusable element\");\n    }\n    return node;\n  };\n  var updateTabbableNodes = function updateTabbableNodes2() {\n    state.containerGroups = state.containers.map(function(container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions);\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      var firstTabbableNode = tabbableNodes.length > 0 ? tabbableNodes[0] : void 0;\n      var lastTabbableNode = tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : void 0;\n      var firstDomTabbableNode = focusableNodes.find(function(node) {\n        return isTabbable(node);\n      });\n      var lastDomTabbableNode = focusableNodes.slice().reverse().find(function(node) {\n        return isTabbable(node);\n      });\n      var posTabIndexesFound = !!tabbableNodes.find(function(node) {\n        return getTabIndex(node) > 0;\n      });\n      return {\n        container,\n        tabbableNodes,\n        focusableNodes,\n        /** True if at least one node with positive `tabindex` was found in this container. */\n        posTabIndexesFound,\n        /** First tabbable node in container, __tabindex__ order; `undefined` if none. */\n        firstTabbableNode,\n        /** Last tabbable node in container, __tabindex__ order; `undefined` if none. */\n        lastTabbableNode,\n        // NOTE: DOM order is NOT NECESSARILY \"document position\" order, but figuring that out\n        //  would require more than just https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n        //  because that API doesn't work with Shadow DOM as well as it should (@see\n        //  https://github.com/whatwg/dom/issues/320) and since this first/last is only needed, so far,\n        //  to address an edge case related to positive tabindex support, this seems like a much easier,\n        //  \"close enough most of the time\" alternative for positive tabindexes which should generally\n        //  be avoided anyway...\n        /** First tabbable node in container, __DOM__ order; `undefined` if none. */\n        firstDomTabbableNode,\n        /** Last tabbable node in container, __DOM__ order; `undefined` if none. */\n        lastDomTabbableNode,\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n          var nodeIdx = tabbableNodes.indexOf(node);\n          if (nodeIdx < 0) {\n            if (forward) {\n              return focusableNodes.slice(focusableNodes.indexOf(node) + 1).find(function(el) {\n                return isTabbable(el);\n              });\n            }\n            return focusableNodes.slice(0, focusableNodes.indexOf(node)).reverse().find(function(el) {\n              return isTabbable(el);\n            });\n          }\n          return tabbableNodes[nodeIdx + (forward ? 1 : -1)];\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function(group) {\n      return group.tabbableNodes.length > 0;\n    });\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption(\"fallbackFocus\")) {\n      throw new Error(\"Your focus-trap must have at least one container with at least one tabbable node in it at all times\");\n    }\n    if (state.containerGroups.find(function(g) {\n      return g.posTabIndexesFound;\n    }) && state.containerGroups.length > 1) {\n      throw new Error(\"At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.\");\n    }\n  };\n  var _getActiveElement = function getActiveElement(el) {\n    var activeElement = el.activeElement;\n    if (!activeElement) {\n      return;\n    }\n    if (activeElement.shadowRoot && activeElement.shadowRoot.activeElement !== null) {\n      return _getActiveElement(activeElement.shadowRoot);\n    }\n    return activeElement;\n  };\n  var _tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n    if (node === _getActiveElement(document)) {\n      return;\n    }\n    if (!node || !node.focus) {\n      _tryFocus(getInitialFocusNode());\n      return;\n    }\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n  var getReturnFocusNode = function getReturnFocusNode2(previousActiveElement) {\n    var node = getNodeForOption(\"setReturnFocus\", {\n      params: [previousActiveElement]\n    });\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n  var findNextNavNode = function findNextNavNode2(_ref3) {\n    var target = _ref3.target, event = _ref3.event, _ref3$isBackward = _ref3.isBackward, isBackward = _ref3$isBackward === void 0 ? false : _ref3$isBackward;\n    target = target || getActualTarget(event);\n    updateTabbableNodes();\n    var destinationNode = null;\n    if (state.tabbableGroups.length > 0) {\n      var containerIndex = findContainerIndex(target, event);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : void 0;\n      if (containerIndex < 0) {\n        if (isBackward) {\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        var startOfGroupIndex = state.tabbableGroups.findIndex(function(_ref4) {\n          var firstTabbableNode = _ref4.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          startOfGroupIndex = containerIndex;\n        }\n        if (startOfGroupIndex >= 0) {\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = getTabIndex(target) >= 0 ? destinationGroup.lastTabbableNode : destinationGroup.lastDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        var lastOfGroupIndex = state.tabbableGroups.findIndex(function(_ref5) {\n          var lastTabbableNode = _ref5.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          lastOfGroupIndex = containerIndex;\n        }\n        if (lastOfGroupIndex >= 0) {\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = getTabIndex(target) >= 0 ? _destinationGroup.firstTabbableNode : _destinationGroup.firstDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      destinationNode = getNodeForOption(\"fallbackFocus\");\n    }\n    return destinationNode;\n  };\n  var checkPointerDown = function checkPointerDown2(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate\n      });\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n  };\n  var checkFocusIn = function checkFocusIn2(event) {\n    var target = getActualTarget(event);\n    var targetContained = findContainerIndex(target, event) >= 0;\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      event.stopImmediatePropagation();\n      var nextNode;\n      var navAcrossContainers = true;\n      if (state.mostRecentlyFocusedNode) {\n        if (getTabIndex(state.mostRecentlyFocusedNode) > 0) {\n          var mruContainerIdx = findContainerIndex(state.mostRecentlyFocusedNode);\n          var tabbableNodes = state.containerGroups[mruContainerIdx].tabbableNodes;\n          if (tabbableNodes.length > 0) {\n            var mruTabIdx = tabbableNodes.findIndex(function(node) {\n              return node === state.mostRecentlyFocusedNode;\n            });\n            if (mruTabIdx >= 0) {\n              if (config.isKeyForward(state.recentNavEvent)) {\n                if (mruTabIdx + 1 < tabbableNodes.length) {\n                  nextNode = tabbableNodes[mruTabIdx + 1];\n                  navAcrossContainers = false;\n                }\n              } else {\n                if (mruTabIdx - 1 >= 0) {\n                  nextNode = tabbableNodes[mruTabIdx - 1];\n                  navAcrossContainers = false;\n                }\n              }\n            }\n          }\n        } else {\n          if (!state.containerGroups.some(function(g) {\n            return g.tabbableNodes.some(function(n) {\n              return getTabIndex(n) > 0;\n            });\n          })) {\n            navAcrossContainers = false;\n          }\n        }\n      } else {\n        navAcrossContainers = false;\n      }\n      if (navAcrossContainers) {\n        nextNode = findNextNavNode({\n          // move FROM the MRU node, not event-related node (which will be the node that is\n          //  outside the trap causing the focus escape we're trying to fix)\n          target: state.mostRecentlyFocusedNode,\n          isBackward: config.isKeyBackward(state.recentNavEvent)\n        });\n      }\n      if (nextNode) {\n        _tryFocus(nextNode);\n      } else {\n        _tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n      }\n    }\n    state.recentNavEvent = void 0;\n  };\n  var checkKeyNav = function checkKeyNav2(event) {\n    var isBackward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    state.recentNavEvent = event;\n    var destinationNode = findNextNavNode({\n      event,\n      isBackward\n    });\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        event.preventDefault();\n      }\n      _tryFocus(destinationNode);\n    }\n  };\n  var checkTabKey = function checkTabKey2(event) {\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n  var checkEscapeKey = function checkEscapeKey2(event) {\n    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {\n      event.preventDefault();\n      trap.deactivate();\n    }\n  };\n  var checkClick = function checkClick2(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n  var addListeners = function addListeners2() {\n    if (!state.active) {\n      return;\n    }\n    activeFocusTraps.activateTrap(trapStack, trap);\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function() {\n      _tryFocus(getInitialFocusNode());\n    }) : _tryFocus(getInitialFocusNode());\n    doc.addEventListener(\"focusin\", checkFocusIn, true);\n    doc.addEventListener(\"mousedown\", checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener(\"touchstart\", checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener(\"click\", checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener(\"keydown\", checkTabKey, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener(\"keydown\", checkEscapeKey);\n    return trap;\n  };\n  var removeListeners = function removeListeners2() {\n    if (!state.active) {\n      return;\n    }\n    doc.removeEventListener(\"focusin\", checkFocusIn, true);\n    doc.removeEventListener(\"mousedown\", checkPointerDown, true);\n    doc.removeEventListener(\"touchstart\", checkPointerDown, true);\n    doc.removeEventListener(\"click\", checkClick, true);\n    doc.removeEventListener(\"keydown\", checkTabKey, true);\n    doc.removeEventListener(\"keydown\", checkEscapeKey);\n    return trap;\n  };\n  var checkDomRemoval = function checkDomRemoval2(mutations) {\n    var isFocusedNodeRemoved = mutations.some(function(mutation) {\n      var removedNodes = Array.from(mutation.removedNodes);\n      return removedNodes.some(function(node) {\n        return node === state.mostRecentlyFocusedNode;\n      });\n    });\n    if (isFocusedNodeRemoved) {\n      _tryFocus(getInitialFocusNode());\n    }\n  };\n  var mutationObserver = typeof window !== \"undefined\" && \"MutationObserver\" in window ? new MutationObserver(checkDomRemoval) : void 0;\n  var updateObservedNodes = function updateObservedNodes2() {\n    if (!mutationObserver) {\n      return;\n    }\n    mutationObserver.disconnect();\n    if (state.active && !state.paused) {\n      state.containers.map(function(container) {\n        mutationObserver.observe(container, {\n          subtree: true,\n          childList: true\n        });\n      });\n    }\n  };\n  trap = {\n    get active() {\n      return state.active;\n    },\n    get paused() {\n      return state.paused;\n    },\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n      var onActivate = getOption(activateOptions, \"onActivate\");\n      var onPostActivate = getOption(activateOptions, \"onPostActivate\");\n      var checkCanFocusTrap = getOption(activateOptions, \"checkCanFocusTrap\");\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = _getActiveElement(doc);\n      onActivate === null || onActivate === void 0 || onActivate();\n      var finishActivation = function finishActivation2() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        updateObservedNodes();\n        onPostActivate === null || onPostActivate === void 0 || onPostActivate();\n      };\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n      clearTimeout(state.delayInitialFocusTimer);\n      state.delayInitialFocusTimer = void 0;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      updateObservedNodes();\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n      var onDeactivate = getOption(options, \"onDeactivate\");\n      var onPostDeactivate = getOption(options, \"onPostDeactivate\");\n      var checkCanReturnFocus = getOption(options, \"checkCanReturnFocus\");\n      var returnFocus = getOption(options, \"returnFocus\", \"returnFocusOnDeactivate\");\n      onDeactivate === null || onDeactivate === void 0 || onDeactivate();\n      var finishDeactivation = function finishDeactivation2() {\n        delay(function() {\n          if (returnFocus) {\n            _tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate === null || onPostDeactivate === void 0 || onPostDeactivate();\n        });\n      };\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause(pauseOptions) {\n      if (!state.active) {\n        return this;\n      }\n      state.manuallyPaused = true;\n      return this._setPausedState(true, pauseOptions);\n    },\n    unpause: function unpause(unpauseOptions) {\n      if (!state.active) {\n        return this;\n      }\n      state.manuallyPaused = false;\n      if (trapStack[trapStack.length - 1] !== this) {\n        return this;\n      }\n      return this._setPausedState(false, unpauseOptions);\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function(element) {\n        return typeof element === \"string\" ? doc.querySelector(element) : element;\n      });\n      if (state.active) {\n        updateTabbableNodes();\n      }\n      updateObservedNodes();\n      return this;\n    }\n  };\n  Object.defineProperties(trap, {\n    _isManuallyPaused: {\n      value: function value() {\n        return state.manuallyPaused;\n      }\n    },\n    _setPausedState: {\n      value: function value(paused, options) {\n        if (state.paused === paused) {\n          return this;\n        }\n        state.paused = paused;\n        if (paused) {\n          var onPause = getOption(options, \"onPause\");\n          var onPostPause = getOption(options, \"onPostPause\");\n          onPause === null || onPause === void 0 || onPause();\n          removeListeners();\n          updateObservedNodes();\n          onPostPause === null || onPostPause === void 0 || onPostPause();\n        } else {\n          var onUnpause = getOption(options, \"onUnpause\");\n          var onPostUnpause = getOption(options, \"onPostUnpause\");\n          onUnpause === null || onUnpause === void 0 || onUnpause();\n          updateTabbableNodes();\n          addListeners();\n          updateObservedNodes();\n          onPostUnpause === null || onPostUnpause === void 0 || onPostUnpause();\n        }\n        return this;\n      }\n    }\n  });\n  trap.updateContainerElements(elements);\n  return trap;\n};\nfunction useFocusTrap(target, options = {}) {\n  let trap;\n  const { immediate, ...focusTrapOptions } = options;\n  const hasFocus = shallowRef(false);\n  const isPaused = shallowRef(false);\n  const activate = (opts) => trap && trap.activate(opts);\n  const deactivate = (opts) => trap && trap.deactivate(opts);\n  const pause = () => {\n    if (trap) {\n      trap.pause();\n      isPaused.value = true;\n    }\n  };\n  const unpause = () => {\n    if (trap) {\n      trap.unpause();\n      isPaused.value = false;\n    }\n  };\n  const targets = computed(() => {\n    const _targets = toValue(target);\n    return toArray(_targets).map((el) => {\n      const _el = toValue(el);\n      return typeof _el === \"string\" ? _el : unrefElement(_el);\n    }).filter(notNullish);\n  });\n  watch(\n    targets,\n    (els) => {\n      if (!els.length)\n        return;\n      if (!trap) {\n        trap = createFocusTrap(els, {\n          ...focusTrapOptions,\n          onActivate() {\n            hasFocus.value = true;\n            if (options.onActivate)\n              options.onActivate();\n          },\n          onDeactivate() {\n            hasFocus.value = false;\n            if (options.onDeactivate)\n              options.onDeactivate();\n          }\n        });\n        if (immediate)\n          activate();\n      } else {\n        const isActive = trap == null ? void 0 : trap.active;\n        trap == null ? void 0 : trap.updateContainerElements(els);\n        if (!isActive && immediate) {\n          activate();\n        }\n      }\n    },\n    { flush: \"post\" }\n  );\n  tryOnScopeDispose(() => deactivate());\n  return {\n    hasFocus,\n    isPaused,\n    activate,\n    deactivate,\n    pause,\n    unpause\n  };\n}\nconst useActivatedFocusTrap = ({\n  element,\n  isActive,\n  noTrap,\n  fallbackFocus,\n  focus\n}, focusTrapOpts = {\n  allowOutsideClick: true,\n  fallbackFocus: () => fallbackFocus.ref.value || (typeof document !== \"undefined\" ? document.body : \"body\"),\n  escapeDeactivates: false,\n  clickOutsideDeactivates: false,\n  initialFocus: focus\n}) => {\n  const resolvedIsActive = readonly(toRef(isActive));\n  const resolvedNoTrap = readonly(toRef(noTrap));\n  const checkNeedsFallback = () => {\n    const tabbableElements = element.value?.querySelectorAll(\n      `a, button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"]):not(.${fallbackFocus.classSelector})`\n    );\n    return !tabbableElements?.length;\n  };\n  const needsFallback = ref(false);\n  onMounted(() => {\n    needsFallback.value = checkNeedsFallback();\n    useMutationObserver(\n      element,\n      () => {\n        needsFallback.value = checkNeedsFallback();\n      },\n      { childList: true, subtree: true }\n    );\n  });\n  const trap = useFocusTrap(element, focusTrapOpts);\n  watch(resolvedIsActive, async (newValue) => {\n    if (newValue && resolvedNoTrap.value === false) {\n      trap.activate();\n    } else {\n      trap.deactivate();\n    }\n  });\n  watch(resolvedNoTrap, (newValue) => {\n    if (newValue === true) {\n      trap.deactivate();\n    }\n  });\n  return {\n    needsFallback: readonly(needsFallback)\n  };\n};\nconst useScrollLock = createSharedComposable(useScrollLock$1);\nlet prevousRightPadding = \"\";\nconst lockRegistry = /* @__PURE__ */ new Map();\nconst useSafeScrollLock = (isOpen, bodyScroll) => {\n  const resolvedIsOpen = readonly(toRef(isOpen));\n  const id = useId();\n  const inverseBodyScrollingValue = computed(() => !toValue(bodyScroll));\n  const isLocked = useScrollLock(\n    typeof document !== \"undefined\" ? document.body : null,\n    resolvedIsOpen.value && inverseBodyScrollingValue.value\n  );\n  onMounted(() => {\n    if (typeof document === \"undefined\") return;\n    lockRegistry.set(id, false);\n    watch(\n      [resolvedIsOpen, inverseBodyScrollingValue],\n      ([modelVal, bodyVal]) => {\n        const scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n        const hasLocked = Array.from(lockRegistry.values()).some((val) => val === true);\n        const myLocked = modelVal && bodyVal;\n        lockRegistry.set(id, myLocked);\n        if (myLocked && !hasLocked && !isLocked.value) {\n          isLocked.value = true;\n          if (scrollBarGap > 0) {\n            prevousRightPadding = document.body.style.paddingRight;\n            document.body.style.paddingRight = `${scrollBarGap + prevousRightPadding}px`;\n          }\n        }\n        const hasLockedAfter = Array.from(lockRegistry.values()).some((val) => val === true);\n        if (hasLocked && !hasLockedAfter) {\n          lockRegistry.set(id, false);\n          isLocked.value = false;\n          document.body.style.paddingRight = prevousRightPadding;\n        }\n      },\n      { immediate: true }\n    );\n  });\n  onUnmounted(() => {\n    lockRegistry.delete(id);\n    const hasLockedAfter = Array.from(lockRegistry.values()).some((val) => val === true);\n    if (!hasLockedAfter) {\n      document.body.style.paddingRight = prevousRightPadding;\n      isLocked.value = false;\n    }\n  });\n};\nexport {\n  useSafeScrollLock as a,\n  useActivatedFocusTrap as b,\n  useScrollLock as u\n};\n//# sourceMappingURL=useSafeScrollLock-C_xELGAE.mjs.map\n","import { defineComponent, createElementBlock, openBlock, unref } from \"vue\";\nimport { u as useDefaults } from \"./useDefaults-DESCdb0p.mjs\";\nconst _hoisted_1 = [\"type\", \"disabled\", \"aria-label\"];\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"BCloseButton\",\n  props: {\n    ariaLabel: { default: \"Close\" },\n    disabled: { type: Boolean, default: false },\n    type: { default: \"button\" }\n  },\n  emits: [\"click\"],\n  setup(__props, { emit: __emit }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BCloseButton\");\n    const emit = __emit;\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"button\", {\n        type: unref(props).type,\n        class: \"btn-close\",\n        disabled: unref(props).disabled,\n        \"aria-label\": unref(props).ariaLabel,\n        onClick: _cache[0] || (_cache[0] = ($event) => emit(\"click\", $event))\n      }, null, 8, _hoisted_1);\n    };\n  }\n});\nexport {\n  _sfc_main as _\n};\n//# sourceMappingURL=BCloseButton.vue_vue_type_script_setup_true_lang-byZmQ_ot.mjs.map\n","import { getCurrentInstance, watch, computed, toValue, inject, defineComponent, mergeModels, useSlots, useModel, useTemplateRef, ref, onMounted, nextTick, createBlock, openBlock, unref, withCtx, createCommentVNode, renderSlot, Transition, mergeProps, withDirectives, createElementVNode, withModifiers, createElementBlock, normalizeClass, normalizeProps, guardReactiveProps, resolveDynamicComponent, createTextVNode, toDisplayString, Fragment, createVNode, vShow, normalizeStyle, isRef, shallowRef, markRaw, onScopeDispose, isReadonly } from \"vue\";\nimport { p as getSSRHandler, d as unrefElement, o as onKeyStroke } from \"./index-Bg04zFDG.mjs\";\nimport { m as modalManagerKey, o as orchestratorRegistryKey } from \"./keys-BLeKMItg.mjs\";\nimport { g as tryOnScopeDispose } from \"./index-wxu-PlLx.mjs\";\nimport { b as buildPromise } from \"./orchestratorShared-BTC5xO6k.mjs\";\nimport \"./BootstrapVueOptions-DSytNWdb.mjs\";\nimport { _ as _sfc_main$1 } from \"./ConditionalTeleport.vue_vue_type_script_lang-Cp-egLmm.mjs\";\nimport \"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH-.mjs\";\nimport { b as useActivatedFocusTrap, a as useSafeScrollLock } from \"./useSafeScrollLock-C_xELGAE.mjs\";\nimport { _ as _sfc_main$2 } from \"./BButton.vue_vue_type_script_setup_true_lang-C9SHAuxh.mjs\";\nimport { _ as _sfc_main$3 } from \"./BCloseButton.vue_vue_type_script_setup_true_lang-byZmQ_ot.mjs\";\nimport { u as useDefaults } from \"./useDefaults-DESCdb0p.mjs\";\nimport { u as useId } from \"./useId-t29UARy6.mjs\";\nimport { i as isEmptySlot, c as getModalZIndex } from \"./dom-DVb-f0ZG.mjs\";\nimport { u as useColorVariantClasses } from \"./useColorVariantClasses-ZDE19TZw.mjs\";\nimport { u as useShowHide } from \"./useShowHide-olNQI3HA.mjs\";\nimport { g as getElement } from \"./getElement-DrDVR-jO.mjs\";\nimport \"./useTransitions-BAT154ve.mjs\";\nimport \"./tableUtils-Jp7dzXjS.mjs\";\nconst modalOpenClassName = \"modal-open\";\nconst useSharedModalStack = () => {\n  const modalManagerPlugin = inject(modalManagerKey);\n  const dispose = (modal) => {\n    modalManagerPlugin?.removeStack(modal);\n    modalManagerPlugin?.removeRegistry(modal);\n  };\n  const updateHTMLAttrs = getSSRHandler(\"updateHTMLAttrs\", (selector, attribute, value) => {\n    const el = typeof selector === \"string\" ? window?.document.querySelector(selector) : unrefElement(selector);\n    if (!el) return;\n    if (attribute === \"class\") {\n      el.classList.toggle(modalOpenClassName, value === modalOpenClassName);\n    } else {\n      el.setAttribute(attribute, value);\n    }\n  });\n  tryOnScopeDispose(() => {\n    if (modalManagerPlugin?.countStack.value === 0) {\n      updateHTMLAttrs(\"body\", \"class\", \"\");\n    }\n  });\n  watch(\n    () => modalManagerPlugin?.countStack.value,\n    (newValue) => {\n      if (newValue === void 0) return;\n      updateHTMLAttrs(\"body\", \"class\", newValue > 0 ? modalOpenClassName : \"\");\n    }\n  );\n  return {\n    ...modalManagerPlugin,\n    dispose\n  };\n};\nconst useModalManager = (modalOpen, initialValue) => {\n  const { pushRegistry, pushStack, removeStack, stack, dispose, countStack } = useSharedModalStack();\n  const currentModal = getCurrentInstance();\n  if (!currentModal || currentModal.type.__name !== \"BModal\") {\n    throw new Error(\"useModalManager must only use in BModal component\");\n  }\n  pushRegistry?.(currentModal);\n  tryOnScopeDispose(() => {\n    dispose(currentModal);\n  });\n  const setInStack = (newValue, oldValue) => {\n    if (newValue) {\n      pushStack?.(currentModal);\n    } else if (oldValue && !newValue) {\n      removeStack?.(currentModal);\n    }\n  };\n  setInStack(initialValue, initialValue);\n  watch(modalOpen, setInStack);\n  return {\n    activePosition: computed(\n      () => stack?.value.findIndex((el) => toValue(el.exposed?.id) === toValue(currentModal.exposed?.id))\n    ),\n    activeModalCount: countStack,\n    stackWithoutSelf: computed(\n      () => stack?.value.filter(\n        (el) => toValue(el.exposed?.id) !== toValue(currentModal.exposed?.id)\n      ) ?? []\n    )\n  };\n};\nconst _hoisted_1 = [\"id\", \"aria-labelledby\", \"aria-describedby\"];\nconst _hoisted_2 = [\"id\"];\nconst fallbackClassSelector = \"modal-fallback-focus\";\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...{\n    inheritAttrs: false\n  },\n  __name: \"BModal\",\n  props: /* @__PURE__ */ mergeModels({\n    focus: { type: [String, Boolean, Object, null], default: void 0 },\n    backdropFirst: { type: Boolean, default: false },\n    body: { default: void 0 },\n    bodyAttrs: { default: void 0 },\n    bodyBgVariant: { default: null },\n    bodyClass: { default: null },\n    bodyScrolling: { type: Boolean, default: false },\n    bodyTextVariant: { default: null },\n    bodyVariant: { default: null },\n    busy: { type: Boolean, default: false },\n    buttonSize: { default: \"md\" },\n    cancelClass: { default: void 0 },\n    cancelDisabled: { type: Boolean, default: false },\n    cancelTitle: { default: \"Cancel\" },\n    cancelVariant: { default: \"secondary\" },\n    centered: { type: Boolean, default: false },\n    contentClass: { default: void 0 },\n    dialogClass: { default: void 0 },\n    footerBgVariant: { default: null },\n    footerBorderVariant: { default: null },\n    footerClass: { default: void 0 },\n    footerTextVariant: { default: null },\n    footerVariant: { default: null },\n    fullscreen: { type: [Boolean, String], default: false },\n    headerAttrs: { default: void 0 },\n    headerBgVariant: { default: null },\n    headerBorderVariant: { default: null },\n    headerClass: { default: void 0 },\n    headerCloseClass: { default: void 0 },\n    headerCloseLabel: { default: \"Close\" },\n    headerCloseVariant: { default: \"secondary\" },\n    headerTextVariant: { default: null },\n    headerVariant: { default: null },\n    noBackdrop: { type: Boolean, default: false },\n    noFooter: { type: Boolean, default: false },\n    noHeader: { type: Boolean, default: false },\n    noHeaderClose: { type: Boolean, default: false },\n    id: { default: void 0 },\n    modalClass: { default: void 0 },\n    noCloseOnBackdrop: { type: Boolean, default: false },\n    noCloseOnEsc: { type: Boolean, default: false },\n    noTrap: { type: Boolean, default: false },\n    noStacking: { type: Boolean },\n    okClass: { default: void 0 },\n    okDisabled: { type: Boolean, default: false },\n    okOnly: { type: Boolean, default: false },\n    okTitle: { default: \"OK\" },\n    okVariant: { default: \"primary\" },\n    scrollable: { type: Boolean, default: false },\n    size: { default: \"md\" },\n    title: { default: void 0 },\n    titleClass: { default: void 0 },\n    titleVisuallyHidden: { type: Boolean, default: false },\n    titleTag: { default: \"h5\" },\n    teleportDisabled: { type: Boolean, default: false },\n    teleportTo: { default: \"body\" },\n    initialAnimation: { type: Boolean, default: false },\n    noAnimation: { type: Boolean },\n    noFade: { type: Boolean, default: false },\n    lazy: { type: Boolean, default: false },\n    unmountLazy: { type: Boolean, default: false },\n    show: { type: Boolean, default: false },\n    transProps: { default: void 0 },\n    visible: { type: Boolean, default: false }\n  }, {\n    \"modelValue\": { type: Boolean, ...{ default: false } },\n    \"modelModifiers\": {}\n  }),\n  emits: /* @__PURE__ */ mergeModels([\"backdrop\", \"close\", \"esc\", \"hide\", \"hide-prevented\", \"hidden\", \"show\", \"show-prevented\", \"shown\", \"toggle\", \"toggle-prevented\", \"cancel\", \"ok\"], [\"update:modelValue\"]),\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BModal\");\n    const emit = __emit;\n    const slots = useSlots();\n    const computedId = useId(() => props.id, \"modal\");\n    const modelValue = useModel(__props, \"modelValue\");\n    const element = useTemplateRef(\"_element\");\n    const fallbackFocusElement = useTemplateRef(\"_fallbackFocusElement\");\n    const okButton = useTemplateRef(\"_okButton\");\n    const cancelButton = useTemplateRef(\"_cancelButton\");\n    const closeButton = useTemplateRef(\"_closeButton\");\n    const pickFocusItem = () => {\n      if (props.focus && typeof props.focus !== \"boolean\") {\n        if (props.focus === \"ok\") {\n          return okButton;\n        } else if (props.focus === \"close\") {\n          return closeButton;\n        } else if (props.focus === \"cancel\") {\n          return cancelButton;\n        }\n        return getElement(props.focus, element.value ?? void 0) ?? element.value;\n      }\n      return element;\n    };\n    let activeElement = null;\n    const onAfterEnter = () => {\n      if (props.noTrap && props.focus !== false) {\n        activeElement = document.activeElement;\n        if (activeElement === element.value) {\n          activeElement = null;\n        }\n        const el = unrefElement(pickFocusItem());\n        if (!el) return;\n        el?.focus();\n        if (el.tagName && el.tagName.toLowerCase() === \"input\" && typeof el.select === \"function\") {\n          el.select();\n        }\n      }\n    };\n    const onAfterLeave = () => {\n      if (props.noTrap && props.focus !== false && activeElement) {\n        activeElement?.focus();\n        activeElement = null;\n      }\n    };\n    const {\n      showRef,\n      renderRef,\n      renderBackdropRef,\n      hide,\n      show,\n      toggle,\n      computedNoAnimation,\n      transitionProps,\n      backdropTransitionProps,\n      isLeaving,\n      isVisible,\n      trapActive,\n      contentShowing,\n      backdropReady,\n      backdropVisible\n    } = useShowHide(modelValue, props, emit, element, computedId, {\n      // addShowClass: false,\n      transitionProps: {\n        onAfterEnter,\n        onAfterLeave\n      }\n    });\n    const { needsFallback } = useActivatedFocusTrap({\n      element,\n      isActive: trapActive,\n      noTrap: () => props.noTrap,\n      fallbackFocus: {\n        ref: fallbackFocusElement,\n        classSelector: fallbackClassSelector\n      },\n      focus: () => props.focus === false ? false : unrefElement(pickFocusItem()) ?? void 0\n      // () => (typeof focus === 'boolean' ? focus : (unrefElement(focus) ?? undefined)),\n    });\n    onKeyStroke(\n      \"Escape\",\n      () => {\n        hide(\"esc\");\n      },\n      { target: element }\n    );\n    useSafeScrollLock(showRef, () => props.bodyScrolling);\n    const hasHeaderCloseSlot = computed(() => !isEmptySlot(slots[\"header-close\"]));\n    const modalDialogClasses = computed(() => [\n      props.dialogClass,\n      {\n        \"modal-fullscreen\": props.fullscreen === true,\n        [`modal-fullscreen-${props.fullscreen}-down`]: typeof props.fullscreen === \"string\",\n        [`modal-${props.size}`]: props.size !== \"md\",\n        \"modal-dialog-centered\": props.centered,\n        \"modal-dialog-scrollable\": props.scrollable\n      }\n    ]);\n    const bodyColorClasses = useColorVariantClasses(() => ({\n      bgVariant: props.bodyBgVariant,\n      textVariant: props.bodyTextVariant,\n      variant: props.bodyVariant\n    }));\n    const bodyClasses = computed(() => [props.bodyClass, bodyColorClasses.value]);\n    const headerColorClasses = useColorVariantClasses(() => ({\n      bgVariant: props.headerBgVariant,\n      textVariant: props.headerTextVariant,\n      variant: props.headerVariant,\n      borderVariant: props.headerBorderVariant\n    }));\n    const headerClasses = computed(() => [props.headerClass, headerColorClasses.value]);\n    const headerCloseAttrs = computed(() => ({\n      variant: hasHeaderCloseSlot.value ? props.headerCloseVariant : void 0,\n      class: props.headerCloseClass\n    }));\n    const footerColorClasses = useColorVariantClasses(() => ({\n      bgVariant: props.footerBgVariant,\n      textVariant: props.footerTextVariant,\n      variant: props.footerVariant,\n      borderVariant: props.footerBorderVariant\n    }));\n    const footerClasses = computed(() => [props.footerClass, footerColorClasses.value]);\n    const titleClasses = computed(() => [\n      props.titleClass,\n      {\n        [\"visually-hidden\"]: props.titleVisuallyHidden\n      }\n    ]);\n    const disableCancel = computed(() => props.cancelDisabled || props.busy);\n    const disableOk = computed(() => props.okDisabled || props.busy);\n    const { activePosition, activeModalCount, stackWithoutSelf } = useModalManager(\n      showRef,\n      modelValue.value\n    );\n    const sharedClasses = computed(() => ({\n      [`stack-position-${activePosition?.value ?? 0}`]: true,\n      [`stack-inverse-position-${(activeModalCount?.value ?? 1) - 1 - (activePosition?.value ?? 0)}`]: true\n    }));\n    watch(stackWithoutSelf, (newValue, oldValue) => {\n      if (newValue.length > oldValue.length && showRef.value === true && props.noStacking === true)\n        hide();\n    });\n    const defaultModalDialogZIndex = ref(\n      getModalZIndex(element.value ?? (typeof document !== \"undefined\" ? document.body : void 0))\n    );\n    onMounted(() => {\n      watch(\n        renderRef,\n        (v) => {\n          if (!v) return;\n          nextTick(() => {\n            if (!element.value) return;\n            defaultModalDialogZIndex.value = getModalZIndex(element.value);\n          });\n        },\n        { immediate: true }\n      );\n    });\n    const computedZIndexNumber = computed(\n      () => (\n        // Make sure that newly opened modals have a higher z-index than currently active ones.\n        // All active modals have a z-index of ('defaultZIndex' - 'stackSize' - 'positionInStack').\n        //\n        // This means inactive modals will already be higher than active ones when opened.\n        showRef.value || isLeaving.value ? (\n          // Just for reference there is a single frame in which the modal is not active but still has a higher z-index than the active ones due to _when_ it calculates its position. It's a small visual effect\n          defaultModalDialogZIndex.value - ((activeModalCount?.value ?? 0) * 2 - (activePosition?.value ?? 0) * 2)\n        ) : defaultModalDialogZIndex.value\n      )\n    );\n    const computedZIndex = computed(() => ({\n      \"z-index\": computedZIndexNumber.value,\n      \"--b-position\": activePosition?.value ?? 0,\n      \"--b-inverse-position\": (activeModalCount?.value ?? 1) - 1 - (activePosition?.value ?? 0),\n      \"--b-count\": activeModalCount?.value ?? 0\n    }));\n    const computedZIndexBackdrop = computed(() => ({\n      \"z-index\": computedZIndexNumber.value - 1,\n      \"--b-position\": activePosition?.value ?? 0,\n      \"--b-inverse-position\": (activeModalCount?.value ?? 1) - 1 - (activePosition?.value ?? 0),\n      \"--b-count\": activeModalCount?.value ?? 0\n    }));\n    const sharedSlots = computed(() => ({\n      id: computedId.value,\n      cancel: () => {\n        hide(\"cancel\");\n      },\n      close: () => {\n        hide(\"close\");\n      },\n      hide,\n      show,\n      toggle,\n      ok: () => {\n        hide(\"ok\");\n      },\n      active: showRef.value,\n      visible: showRef.value\n    }));\n    __expose({\n      hide,\n      id: computedId,\n      show,\n      toggle,\n      visible: showRef\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$1, {\n        to: unref(props).teleportTo,\n        disabled: unref(props).teleportDisabled\n      }, {\n        default: withCtx(() => [\n          unref(renderRef) || unref(contentShowing) ? (openBlock(), createBlock(Transition, mergeProps({ key: 0 }, unref(transitionProps), {\n            appear: modelValue.value || unref(props).visible\n          }), {\n            default: withCtx(() => [\n              withDirectives(createElementVNode(\"div\", mergeProps({\n                id: unref(computedId),\n                ref: \"_element\",\n                class: [\"modal\", [\n                  unref(props).modalClass,\n                  {\n                    fade: !unref(computedNoAnimation),\n                    show: unref(isVisible),\n                    ...sharedClasses.value\n                  }\n                ]],\n                role: \"dialog\",\n                \"aria-labelledby\": !unref(props).noHeader ? `${unref(computedId)}-label` : void 0,\n                \"aria-describedby\": `${unref(computedId)}-body`,\n                tabindex: \"-1\"\n              }, _ctx.$attrs, {\n                style: [computedZIndex.value, { \"display\": \"block\" }],\n                onMousedown: _cache[4] || (_cache[4] = withModifiers(($event) => unref(hide)(\"backdrop\"), [\"left\", \"self\"]))\n              }), [\n                createElementVNode(\"div\", {\n                  class: normalizeClass([\"modal-dialog\", modalDialogClasses.value])\n                }, [\n                  unref(contentShowing) ? (openBlock(), createElementBlock(\"div\", {\n                    key: 0,\n                    class: normalizeClass([\"modal-content\", unref(props).contentClass])\n                  }, [\n                    !unref(props).noHeader ? (openBlock(), createElementBlock(\"div\", mergeProps({\n                      key: 0,\n                      class: [\"modal-header\", headerClasses.value]\n                    }, unref(props).headerAttrs), [\n                      renderSlot(_ctx.$slots, \"header\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [\n                        (openBlock(), createBlock(resolveDynamicComponent(unref(props).titleTag), {\n                          id: `${unref(computedId)}-label`,\n                          class: normalizeClass([\"modal-title\", titleClasses.value])\n                        }, {\n                          default: withCtx(() => [\n                            renderSlot(_ctx.$slots, \"title\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [\n                              createTextVNode(toDisplayString(unref(props).title), 1)\n                            ])\n                          ]),\n                          _: 3\n                        }, 8, [\"id\", \"class\"])),\n                        !unref(props).noHeaderClose ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                          hasHeaderCloseSlot.value ? (openBlock(), createBlock(_sfc_main$2, mergeProps({\n                            key: 0,\n                            ref: \"_closeButton\"\n                          }, headerCloseAttrs.value, {\n                            onClick: _cache[0] || (_cache[0] = ($event) => unref(hide)(\"close\"))\n                          }), {\n                            default: withCtx(() => [\n                              renderSlot(_ctx.$slots, \"header-close\", normalizeProps(guardReactiveProps(sharedSlots.value)))\n                            ]),\n                            _: 3\n                          }, 16)) : (openBlock(), createBlock(_sfc_main$3, mergeProps({\n                            key: 1,\n                            ref: \"_closeButton\",\n                            \"aria-label\": unref(props).headerCloseLabel\n                          }, headerCloseAttrs.value, {\n                            onClick: _cache[1] || (_cache[1] = ($event) => unref(hide)(\"close\"))\n                          }), null, 16, [\"aria-label\"]))\n                        ], 64)) : createCommentVNode(\"\", true)\n                      ])\n                    ], 16)) : createCommentVNode(\"\", true),\n                    createElementVNode(\"div\", mergeProps({\n                      id: `${unref(computedId)}-body`,\n                      class: [\"modal-body\", bodyClasses.value]\n                    }, unref(props).bodyAttrs), [\n                      renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [\n                        createTextVNode(toDisplayString(unref(props).body), 1)\n                      ])\n                    ], 16, _hoisted_2),\n                    !unref(props).noFooter ? (openBlock(), createElementBlock(\"div\", {\n                      key: 1,\n                      class: normalizeClass([\"modal-footer\", footerClasses.value])\n                    }, [\n                      renderSlot(_ctx.$slots, \"footer\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [\n                        renderSlot(_ctx.$slots, \"cancel\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [\n                          !unref(props).okOnly ? (openBlock(), createBlock(_sfc_main$2, {\n                            key: 0,\n                            ref: \"_cancelButton\",\n                            disabled: disableCancel.value,\n                            size: unref(props).buttonSize,\n                            variant: unref(props).cancelVariant,\n                            class: normalizeClass(unref(props).cancelClass),\n                            onClick: _cache[2] || (_cache[2] = ($event) => unref(hide)(\"cancel\"))\n                          }, {\n                            default: withCtx(() => [\n                              createTextVNode(toDisplayString(unref(props).cancelTitle), 1)\n                            ]),\n                            _: 1\n                          }, 8, [\"disabled\", \"size\", \"variant\", \"class\"])) : createCommentVNode(\"\", true)\n                        ]),\n                        renderSlot(_ctx.$slots, \"ok\", normalizeProps(guardReactiveProps(sharedSlots.value)), () => [\n                          createVNode(_sfc_main$2, {\n                            ref: \"_okButton\",\n                            disabled: disableOk.value,\n                            size: unref(props).buttonSize,\n                            variant: unref(props).okVariant,\n                            class: normalizeClass(unref(props).okClass),\n                            onClick: _cache[3] || (_cache[3] = ($event) => unref(hide)(\"ok\"))\n                          }, {\n                            default: withCtx(() => [\n                              createTextVNode(toDisplayString(unref(props).okTitle), 1)\n                            ]),\n                            _: 1\n                          }, 8, [\"disabled\", \"size\", \"variant\", \"class\"])\n                        ])\n                      ])\n                    ], 2)) : createCommentVNode(\"\", true)\n                  ], 2)) : createCommentVNode(\"\", true)\n                ], 2),\n                unref(needsFallback) ? (openBlock(), createElementBlock(\"div\", {\n                  key: 0,\n                  ref: \"_fallbackFocusElement\",\n                  class: normalizeClass(fallbackClassSelector),\n                  tabindex: \"0\",\n                  style: { \"width\": \"0\", \"height\": \"0\", \"overflow\": \"hidden\" }\n                }, null, 512)) : createCommentVNode(\"\", true)\n              ], 16, _hoisted_1), [\n                [vShow, unref(showRef) && (unref(backdropReady) && unref(props).backdropFirst || !unref(props).backdropFirst)]\n              ])\n            ]),\n            _: 3\n          }, 16, [\"appear\"])) : createCommentVNode(\"\", true),\n          !unref(props).noBackdrop ? renderSlot(_ctx.$slots, \"backdrop\", normalizeProps(mergeProps({ key: 1 }, sharedSlots.value)), () => [\n            unref(renderBackdropRef) ? (openBlock(), createBlock(Transition, normalizeProps(mergeProps({ key: 0 }, unref(backdropTransitionProps))), {\n              default: withCtx(() => [\n                withDirectives(createElementVNode(\"div\", {\n                  class: normalizeClass([\"modal-backdrop\", {\n                    fade: !unref(computedNoAnimation),\n                    show: unref(backdropVisible) || unref(computedNoAnimation),\n                    ...sharedClasses.value\n                  }]),\n                  style: normalizeStyle(computedZIndexBackdrop.value),\n                  onClick: _cache[5] || (_cache[5] = ($event) => unref(hide)(\"backdrop\"))\n                }, null, 6), [\n                  [vShow, unref(showRef) || unref(isLeaving) && unref(props).backdropFirst && !unref(computedNoAnimation)]\n                ])\n              ]),\n              _: 1\n            }, 16)) : createCommentVNode(\"\", true)\n          ]) : createCommentVNode(\"\", true)\n        ]),\n        _: 3\n      }, 8, [\"to\", \"disabled\"]);\n    };\n  }\n});\nconst useModal = () => {\n  const orchestratorRegistry = inject(orchestratorRegistryKey);\n  if (!orchestratorRegistry) {\n    throw Error(\n      \"useModal() must be called within setup(), and BApp, useRegistry or plugin must be installed/provided.\"\n    );\n  }\n  const { store, _isOrchestratorInstalled } = orchestratorRegistry;\n  const create = (obj = {}, options = {}) => {\n    if (!_isOrchestratorInstalled.value) {\n      throw new Error(\"BApp or BOrchestrator component must be mounted to use the modal controller\");\n    }\n    const resolvedProps = isRef(obj) ? obj : shallowRef(obj);\n    const _self = resolvedProps.value?.id || Symbol(\"Modals controller\");\n    const promise = buildPromise(_self, store);\n    promise.stop = watch(\n      resolvedProps,\n      (_newValue) => {\n        const newValue = { ...toValue(_newValue) };\n        const previousIndex = store.value.findIndex((el) => el._self === _self);\n        const previous = previousIndex === -1 ? { _component: markRaw(_sfc_main) } : store.value[previousIndex];\n        const v = {\n          type: \"modal\",\n          _self,\n          position: \"modal\",\n          ...previous,\n          options,\n          promise\n        };\n        for (const key in newValue) {\n          if (key.startsWith(\"on\")) {\n            v[key] = newValue[key];\n          } else if (key === \"component\" && newValue.component) {\n            v._component = markRaw(newValue.component);\n          } else if (key === \"slots\" && newValue.slots) {\n            v.slots = markRaw(newValue.slots);\n          } else {\n            v[key] = toValue(newValue[key]);\n          }\n        }\n        v.modelValue = v.modelValue ?? false;\n        v[\"onUpdate:modelValue\"] = (val) => {\n          const onUpdateModelValue = newValue[\"onUpdate:modelValue\"];\n          onUpdateModelValue?.(val);\n          const { modelValue } = toValue(obj);\n          if (isRef(obj) && !isRef(modelValue)) obj.value.modelValue = val;\n          if (isRef(modelValue) && !isReadonly(modelValue)) {\n            modelValue.value = val;\n          }\n          const modal = store.value.find((el) => el._self === _self);\n          if (modal) {\n            modal.modelValue = val;\n          }\n        };\n        if (previousIndex === -1) {\n          store.value.push(v);\n        } else {\n          store.value.splice(previousIndex, 1, v);\n        }\n      },\n      {\n        immediate: true,\n        deep: true\n      }\n    );\n    onScopeDispose(() => {\n      const modal = store.value.find((el) => el._self === _self);\n      if (modal) {\n        modal.promise.value.destroy?.();\n      }\n    }, true);\n    return promise.value;\n  };\n  const { lastStack, stack, registry } = useSharedModalStack();\n  const show = (id) => {\n    if (id === void 0) {\n      if (lastStack?.value) {\n        lastStack?.value.exposed?.show();\n      }\n    } else {\n      const stackModal = stack?.value.find((modal2) => modal2.exposed?.id === id);\n      if (stackModal) {\n        stackModal.exposed?.show();\n        return;\n      }\n      const modal = store.value.find((el) => el._self === id);\n      if (modal) {\n        modal.modelValue = true;\n        modal[\"onUpdate:modelValue\"]?.(true);\n      } else {\n        stack?.value.forEach((modal2) => {\n          if (modal2.exposed?.id === id) {\n            modal2.exposed?.show();\n          }\n        });\n      }\n    }\n  };\n  const hide = (trigger, id) => {\n    if (id === void 0) {\n      if (lastStack?.value) {\n        lastStack?.value.exposed?.hide(trigger);\n      }\n    } else {\n      const stackModal = stack?.value.find((modal2) => modal2.exposed?.id === id);\n      if (stackModal) {\n        stackModal.exposed?.hide(trigger);\n        return;\n      }\n      const modal = store.value.find((el) => el._self === id);\n      if (modal) {\n        modal.modelValue = false;\n        modal[\"onUpdate:modelValue\"]?.(false);\n      } else {\n        stack?.value.forEach((modal2) => {\n          if (modal2.exposed?.id === id) {\n            modal2.exposed?.hide(trigger, true);\n          }\n        });\n      }\n    }\n  };\n  const hideAll = (trigger) => {\n    stack?.value.forEach((modal) => {\n      modal.exposed?.hide(trigger, true);\n    });\n  };\n  const get = (id) => {\n    const modal = store.value.find((el) => el._self === id);\n    if (modal) {\n      return {\n        modal,\n        show() {\n          modal?.promise.value.show();\n        },\n        hide(trigger) {\n          modal?.promise.value.hide(trigger);\n        }\n      };\n    }\n    if (registry?.value) {\n      for (const [, modal2] of registry?.value.entries() ?? []) {\n        if (toValue(modal2.exposed?.id) === id) {\n          return {\n            modal: modal2,\n            show() {\n              modal2.exposed?.show();\n            },\n            hide(trigger) {\n              modal2.exposed?.hide(trigger, true);\n            }\n          };\n        }\n      }\n    }\n    return null;\n  };\n  const instance = getCurrentInstance();\n  const current = () => {\n    const findBModal = (component) => {\n      if (!component.parent) {\n        return null;\n      }\n      if (component.parent.type === _sfc_main) {\n        return component.parent;\n      }\n      return findBModal(component.parent);\n    };\n    if (!instance) {\n      return null;\n    }\n    const modalComponent = computed(() => findBModal(instance));\n    const modal = computed(() => modalComponent.value?.proxy);\n    return {\n      show() {\n        modalComponent.value?.exposed?.show();\n      },\n      hide(trigger) {\n        modalComponent.value?.exposed?.hide(trigger, true);\n      },\n      modal\n    };\n  };\n  return {\n    show,\n    hide,\n    hideAll,\n    get,\n    current,\n    create,\n    _isOrchestratorInstalled,\n    store\n    // Todo: Supports listening events globally in the future\n  };\n};\nconst useModalController = useModal;\nexport {\n  _sfc_main as _,\n  useModalController as a,\n  useModal as u\n};\n//# sourceMappingURL=index-CyEArZ56.mjs.map\n","import { createGlobalState, useDebounceFn } from '@vueuse/core';\r\nimport { route, sleep, useHttpClient } from '@windwalker-io/unicorn-next';\r\nimport { computed, ref, watch } from 'vue';\r\nimport { useLoading } from '@lyrasoft/ts-toolkit/vue';\r\nimport { useSegmentController } from '~melo/features/segment/useSegmentController';\r\nimport { sleepMax } from '~melo/shared/timing';\r\nimport { Segment } from '~melo/types';\r\n\r\nexport const useSegmentEditor = createGlobalState(() => {\r\n  const { save: saveSegment, saving, wrapSaving, autoSave, disableAutoSave } = useSegmentController();\r\n\r\n  const editing = ref<boolean>(false);\r\n  const segment = ref<Segment>();\r\n  const isEditing = computed(() => editing.value && segment.value);\r\n  const type = computed(() => segment.value?.type ?? null);\r\n  const isChapter = computed<boolean>(() => !Boolean(segment.value?.parentId));\r\n  const currentEditingId = computed<number | null>(() => segment.value?.id ?? null);\r\n\r\n  async function edit(item: Segment) {\r\n    close();\r\n\r\n    await disableAutoSave(() => {\r\n      segment.value = item;\r\n      editing.value = true;\r\n    });\r\n  }\r\n\r\n  async function editById(id: number, segments: Segment[]) {\r\n    for (const chapter of segments) {\r\n      if (chapter.id === id) {\r\n        await edit(chapter);\r\n        return;\r\n      }\r\n\r\n      if (chapter.children) {\r\n        for (const segment of chapter.children) {\r\n          if (segment.id === id) {\r\n            await edit(segment);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function close() {\r\n    segment.value = undefined;\r\n    autoSave.value = false;\r\n    editing.value = false;\r\n  }\r\n\r\n  function closeIfEditing(item: Segment) {\r\n    if (segment.value?.id === item.id) {\r\n      close();\r\n    }\r\n  }\r\n\r\n  // Save\r\n  const save = wrapSaving(async () => {\r\n    if (!segment.value) {\r\n      return;\r\n    }\r\n\r\n    if (editing.value === false) {\r\n      return;\r\n    }\r\n\r\n    const start = Date.now();\r\n    const { post } = await useHttpClient();\r\n\r\n    // Save\r\n    await saveSegment(segment.value, !segment.value.id);\r\n\r\n    await sleepMax(start, 500);\r\n  });\r\n\r\n  const saveDebounced = useDebounceFn(save, 500);\r\n\r\n  // Auto save\r\n  watch(segment, () => {\r\n    if (autoSave.value) {\r\n      saveDebounced();\r\n    }\r\n  }, { deep: true });\r\n\r\n  // Active\r\n  function isActive(segment: Segment) {\r\n    return editing.value && segment.id === currentEditingId.value;\r\n  }\r\n\r\n  return {\r\n    segment,\r\n    isChapter,\r\n    type,\r\n    saving,\r\n    isEditing,\r\n    currentEditingId,\r\n    autoSave,\r\n\r\n    edit,\r\n    editById,\r\n    close,\r\n    closeIfEditing,\r\n    save,\r\n    isActive,\r\n    disableAutoSave,\r\n  }\r\n});\r\n\r\n\r\n"],"names":["_hoisted_1","_sfc_main","_hoisted_2","useId","_sfc_main$1","_sfc_main$2","_sfc_main$3","segment"],"mappings":"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","x_google_ignoreList":[0,1,2]}