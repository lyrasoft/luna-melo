{"version":3,"file":"SectionQuizEdit.js","sources":["../../src/modules/segment-editor/components/segment-edit/question/QuestionTypeSelector.vue","../../src/modules/segment-editor/components/segment-edit/question/QuestionItem.vue","../../src/modules/segment-editor/components/segment-edit/section/SectionQuizEdit.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { inject } from 'vue';\nimport { QuestionDefine } from '~melo/types';\n\nconst questionDefines = inject<Record<string, QuestionDefine>>('question.defines');\n\nconst emit = defineEmits<{\n  selected: [type: string];\n}>();\n\nfunction select(type: string) {\n  emit('selected', type);\n}\n\n</script>\n\n<template>\n  <div class=\"row row-cols-2 gy-3\">\n    <div v-for=\"(define, key) in questionDefines\" :key=\"define.id\" class=\"col\">\n      <div class=\"c-question-button card border h-100\">\n        <div class=\"card-body d-flex flex-column gap-3\">\n          <div class=\"d-flex align-items-center gap-2\">\n            <i :class=\"define.icon\" style=\"font-size: 2rem;\"></i>\n            <a href=\"#\" class=\"link-dark text-decoration-none stretched-link\"\n              @click.prevent=\"select(key)\">\n              <h3 class=\"m-0\">\n                {{ define.title }}\n              </h3>\n            </a>\n          </div>\n          <div class=\"text-muted small\">{{ define.description }}</div>\n          <div class=\"mt-auto\">\n            <button type=\"button\" class=\"btn btn-outline-primary btn-sm\">\n              按此選擇\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.c-question-button {\n  transition: all .3s;\n\n  &:hover {\n    background-color: var(--bs-primary-bg-subtle);\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { useDebounceFn } from '@vueuse/core';\nimport { deleteConfirm } from '@windwalker-io/unicorn-next';\nimport { toRefs } from 'vue';\nimport { useQuestionController } from '~melo/modules/segment-editor/features/question/useQuestionController';\nimport { useQuestionPresenter } from '~melo/modules/segment-editor/features/question/useQuestionPresenter';\nimport { Question } from '~melo/types';\n\nconst props = defineProps<{\n  item: Question;\n  index: number;\n}>();\n\nconst emit = defineEmits<{\n  'edit': [item: Question];\n  'delete': [itemId: number];\n  'save': [item: Question];\n  'saving': [];\n  'saved': [];\n}>();\n\nconst { save, remove } = useQuestionController();\nconst { typeToTitle, scoreLimit } = useQuestionPresenter();\n\nconst { item } = toRefs(props);\n\nfunction editQuestion() {\n  emit('edit', item.value);\n}\n\nasync function deleteQuestion() {\n  const v = await deleteConfirm(\n    \"確定要刪除這個問題嗎？\",\n    '',\n  );\n\n  if (v) {\n    await remove(item.value.id!);\n\n    emit('delete', item.value.id!);\n  }\n}\n\nconst changeScore = useDebounceFn(async () => {\n  item.value.score = scoreLimit(item.value.score);\n\n  emit('saving');\n\n  await save(item.value, 0);\n\n  emit('saved');\n}, 300);\n</script>\n\n<template>\n  <div class=\"c-question-item-outside\" :data-qn-id=\"item.id\">\n    <!-- Bar -->\n    <div class=\"c-question-item card border\">\n      <div class=\"c-question-item__content card-body p-1 d-flex align-items-center gap-2\" style=\"min-width: 1px\">\n        <div class=\"c-question-item__handle handle px-2\"\n          style=\"cursor: move; z-index: 3;\">\n          <span class=\"fal fa-bars\"></span>\n        </div>\n\n        <div class=\"text-nowrap text-muted\" style=\"min-width: 2em;\">\n          {{ props.index + 1 }}.\n        </div>\n\n        <div class=\"text-nowrap me-3\">\n          {{ typeToTitle(item.type) }}\n        </div>\n\n        <a href=\"#\" class=\"c-question-item__title text-truncate text-decoration-none\"\n          @click.prevent=\"editQuestion\">\n          {{ item.content || '題目內容未填寫' }}\n        </a>\n\n        <div class=\"d-flex align-items-center gap-3 text-nowrap ms-auto\">\n          <div class=\"text-nowrap me-1 d-flex align-items-center\">\n            <div class=\"me-1\">\n              分數\n            </div>\n            <div>\n              <input v-model=\"item.score\" type=\"number\" id=\"input-score\"\n                class=\"form-control form-control-sm\"\n                style=\"width: 5em;\"\n                @input=\"changeScore\" />\n            </div>\n          </div>\n\n          <div class=\"c-question-item__delete\">\n            <a href=\"javascript://\" class=\"link-danger\" @click=\"deleteQuestion\">\n              <i class=\"fal fa-trash\"></i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>\n","<script setup lang=\"ts\">\nimport { uniqueItemList } from '@lyrasoft/ts-toolkit/vue';\nimport { deleteConfirm, route, useHttpClient } from '@windwalker-io/unicorn-next';\nimport {\n  BButton,\n  BFormGroup,\n  BFormInput,\n  BFormRadio,\n  BFormRadioGroup,\n  BModal,\n  BSpinner,\n  useModal\n} from 'bootstrap-vue-next';\nimport { computed, inject, onMounted, ref } from 'vue';\nimport { VueDraggable } from 'vue-draggable-plus';\nimport QuestionTypeSelector from '~melo/modules/segment-editor/components/segment-edit/question/QuestionTypeSelector.vue';\nimport { useQuestionController } from '~melo/modules/segment-editor/features/question/useQuestionController';\nimport { useSegmentEditor } from '~melo/modules/segment-editor/features/segment/useSegmentEditor';\nimport { Question, Segment } from '~melo/types';\nimport QuestionItem from '../question/QuestionItem.vue';\nimport QuestionEdit from '../question/QuestionEdit.vue';\n\nconst item = defineModel<Segment>({\n  required: true\n});\n\nconst questions = ref<Question[]>([]);\nconst loading = ref<boolean>(false);\n\nonMounted(async () => {\n  await prepareQuestions();\n});\n\nconst { saving } = useSegmentEditor();\nconst { getQuestions, createEmptyQuestion, save, reorder: reorderQuestions, remove } = useQuestionController();\n\nasync function prepareQuestions() {\n  loading.value = true;\n\n  const items = await getQuestions(item.value.id!);\n\n  questions.value = uniqueItemList(items);\n\n  loading.value = false;\n}\n\nasync function reorder() {\n  const orders: Record<number, number> = {};\n\n  questions.value.forEach((item, i) => {\n    orders[item.id!] = i + 1;\n  });\n\n  await reorderQuestions(orders);\n}\n\nasync function deleteQuestion(id: number) {\n  questions.value = questions.value.filter(item => item.id !== id);\n}\n\n// New Question\nconst questionTypeSelectorModalOpen = ref(false);\n\nfunction newQuestion() {\n  questionTypeSelectorModalOpen.value = true;\n}\n\nasync function newQuestionSelected(type: string) {\n  const question = createEmptyQuestion(item.value.lessonId, item.value.id!);\n  question.type = type;\n  question.ordering = questions.value.length + 1;\n\n  const newItem = await save(question, 1);\n\n  questions.value.push(newItem);\n\n  editQuestion(newItem);\n}\n\n// Edit Question\nconst questionEditModalOpen = ref(false);\nconst currentEditQuestion = ref<Question>();\nconst questionsSaving = ref(false);\nconst questionSaved = ref(false);\n\nfunction editQuestion(question: Question) {\n  currentEditQuestion.value = question;\n  questionEditModalOpen.value = true;\n  questionsSaving.value = false;\n  questionSaved.value = false;\n}\n</script>\n\n<template>\n  <div>\n    <BFormGroup\n      label=\"小節名稱\"\n      label-for=\"input-section-title\"\n      label-class=\"mb-2\"\n      class=\"mb-5\"\n    >\n      <BFormInput id=\"input-section-title\" v-model=\"item.title\" trim />\n    </BFormGroup>\n\n    <BFormGroup\n      label=\"是否可跳過此測驗閱讀下一章節？\"\n      label-for=\"input-section-skip\"\n      label-class=\"mb-2\"\n      class=\"mb-5\"\n    >\n      <BFormRadioGroup\n        v-model=\"item.canSkip\"\n        button-variant=\"outline-primary\"\n        name=\"input-section-skip\"\n        buttons\n      >\n        <BFormRadio :value=\"true\">可以</BFormRadio>\n        <BFormRadio :value=\"false\">不可以</BFormRadio>\n      </BFormRadioGroup>\n    </BFormGroup>\n\n    <div class=\"c-quiz-edit d-flex flex-column gap-4\">\n      <div class=\"h6 c-quiz-edit__title\">\n        測驗內容\n      </div>\n\n      <div v-if=\"loading\" class=\"text-center\">\n        <BSpinner />\n      </div>\n\n      <div v-else class=\"c-quiz-list\">\n        <VueDraggable\n          v-model=\"questions\"\n          class=\"d-flex flex-column gap-2\"\n          item-key=\"uid\"\n          handle=\".handle\"\n          :animation=\"300\"\n          :on-update=\"reorder\"\n        >\n          <TransitionGroup name=\"fade\">\n            <QuestionItem\n              v-for=\"(element, index) in questions\"\n              :item=\"element\"\n              :key=\"element.id\"\n              :index=\"index\"\n              @edit=\"editQuestion\"\n              @delete=\"deleteQuestion\"\n              @saving=\"saving = true\"\n              @saved=\"saving = false;\"\n              style=\"animation-duration: 300ms;\"\n            ></QuestionItem>\n          </TransitionGroup>\n        </VueDraggable>\n      </div>\n\n      <div class=\"text-center\">\n        <button type=\"button\" class=\"btn btn-primary btn-sm text-nowrap\"\n          style=\"width: 150px;\"\n          @click=\"newQuestion\">\n          <i class=\"fas fa-plus\"></i>\n          新增題目\n        </button>\n      </div>\n    </div>\n\n    <!-- Section Edit -->\n    <BModal\n      id=\"question-edit-modal\"\n      title=\"題目編輯\"\n      v-model=\"questionEditModalOpen\"\n      no-footer\n      lazy\n      unmount-lazy\n      size=\"lg\"\n      bodyBgVariant=\"light\"\n      contentClass=\"bg-white\"\n    >\n      <template #title>\n        <div class=\"d-flex align-items-center gap-3\">\n          <div>\n            題目編輯\n          </div>\n\n          <div v-if=\"questionsSaving\" class=\"text-muted small\">\n            <BSpinner small type=\"border\" class=\"me-1\" />\n            儲存中...\n          </div>\n          <div v-else-if=\"questionSaved\" class=\"small text-muted\">\n            <i class=\"fas fa-check text-success\"></i>\n            已儲存\n          </div>\n        </div>\n      </template>\n\n      <QuestionEdit v-if=\"currentEditQuestion\" v-model=\"currentEditQuestion\"\n        @saving=\"questionsSaving = true\"\n        @saved=\"questionSaved = true; questionsSaving = false\"\n      ></QuestionEdit>\n    </BModal>\n\n    <BModal\n      id=\"question-type-selector-modal\"\n      title=\"選擇題目類型\"\n      v-model=\"questionTypeSelectorModalOpen\"\n      no-footer\n      lazy\n      unmount-lazy\n    >\n      <QuestionTypeSelector @selected=\"newQuestionSelected\" />\n    </BModal>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>\n"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_6","_hoisted_7","_openBlock","_createElementBlock","_Fragment","_renderList","_createElementVNode","_normalizeClass","_withModifiers","_toDisplayString","_hoisted_5","_createTextVNode","_withDirectives","_vModelText","_useModel","item","_createVNode","_withCtx","_TransitionGroup","_createBlock","_createCommentVNode"],"mappings":"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"}