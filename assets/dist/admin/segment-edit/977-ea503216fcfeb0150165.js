/*! For license information please see 977-ea503216fcfeb0150165.js.LICENSE.txt */
"use strict";(self.webpackChunk_vue_entries_admin_segment_edit_ts=self.webpackChunk_vue_entries_admin_segment_edit_ts||[]).push([[977],{977:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var r=s(508),o=s(467);class n{static stacks={};name="";store=[];observers=[];static create(e,t=[]){if(null==e)throw new Error("Please provide a name.");return new this(e,t)}static get(e,t=[]){if(null==e)throw new Error("Please provide a name.");return this.stacks[e]||(this.stacks[e]=new n(e,t)),this.stacks[e]}static set(e,t){if(null==e)throw new Error("Please provide a name.");return this.stacks[e]=t,this}static remove(){return delete this.stacks[name],this}static all(){return this.stacks}constructor(e,t=[]){this.name=e,this.store=t}push(e=!0){const t=this.store.push(e);return this.notice(),t}pop(){const e=this.store.pop();return this.notice(),e}clear(){return this.store=[],this.notice(),this}isEmpty(){return 0===this.store.length}get length(){return this.store.length}peek(){return this.store}observe(e){return this.observers.push({handler:e}),this}once(e){return this.observers.push({handler:e,once:!0}),this}notice(){return this.observers.forEach((e=>{e.handler(this,this.length)})),this.observers=this.observers.filter((e=>!0!==e.once)),this}off(e=null){return this.observers=this.observers.filter((t=>t!==e)),this}}var a=s(554);const i=(0,r.defineComponent)({__name:"SectionHomeworkEdit",props:{item:{}},setup(e){const t=e,{item:s}=(0,r.toRefs)(t),i=(0,r.ref)(function(e=()=>{}){const t=u.data("locale.short")||"zh_TW",s={document_base_url:u.uri("root"),plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","nonbreaking","save","table","directionality","emoticons"],toolbar:"undo redo bold italic strikethrough forecolor backcolor blockquote removeformat | alignleft aligncenter alignright alignjustify bullist numlist outdent indent | blocks fontsize styles styleselect formatselect fontsizeselect | link image media table code | fullscreen",language:"en_GB"===t?null:t,language_url:u.uri("asset").root+"vendor/tinymce-i18n/langs5/zh_TW.js",font_size_formats:"13px 14px 15px 16px 18px 20px 22px 28px 36px 48px",menubar:!1,remove_script_host:!0,relative_urls:!0,convert_urls:!0,forced_root_block:"div",toolbar_mode:"sliding",entity_encoding:"raw",table_header_type:"sectionCells",paste_data_images:!0,images_upload_url:u.route("file_upload"),images_upload_handler:function(e,t){return new Promise(((s,r)=>{u.data("no.save",!0),n.get("uploading").push();const o=new XMLHttpRequest;o.withCredentials=!1,o.open("POST",u.route("file_upload")),o.upload.onprogress=e=>{t(e.loaded/e.total*100)},o.onload=function(){if(n.get("uploading").pop(),200!==o.status)return void r("HTTP Error: "+decodeURIComponent(o.statusText));const e=JSON.parse(o.responseText);if(!e||"string"!=typeof e.data.url)return r("Invalid JSON: "+o.responseText),console.error("Invalid JSON: "+o.responseText),void u.data("no.save",!1);(new Image).src=e.data.url,s(e.data.url),u.data("no.save",!1)};const a=new FormData;a.append("file",e.blob(),e.filename()),a.append(u.data("csrf-token"),"1"),o.send(a)}))},height:450,content_css:u.uri("asset").root+"css/front/editor.css"};if("object"==typeof e){const t=e;e=e=>(0,a.A)(e,t)}return e(s),s}());return(e,t)=>{const n=(0,r.resolveComponent)("BFormInput"),a=(0,r.resolveComponent)("BFormGroup");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createVNode)(a,{label:"小節名稱編輯","label-for":"input-section-title","label-class":"mb-2",class:"mb-5"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(n,{id:"input-section-title",modelValue:(0,r.unref)(s).title,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.unref)(s).title=e),trim:""},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(a,{label:"小節內容","label-for":"input-section-content","label-class":"mb-2"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)((0,r.unref)(o.A),{modelValue:(0,r.unref)(s).content,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,r.unref)(s).content=e),"api-key":"23aw7u2wc0a3ufumrfftdrrv3s8mox12kdnzr6juw1togrip",style:{"min-height":"216px"},init:i.value},null,8,["modelValue","init"])])),_:1})])}}})}}]);
//# sourceMappingURL=977.js.map